<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Regulador MV</title>
    <link rel="stylesheet" href="popup.css" />
    <!-- Os scripts agora são carregados via módulo no final do body -->
  </head>
  <body>
    <h1>Regulador MV</h1>
    <div class="combobox-container">
      <input
        type="text"
        id="inputBusca"
        placeholder="Digite o nome, CPF ou parte do nome do usuário/serviço..."
        autocomplete="off"
      />
      <ul id="listaSugestoes" class="combobox-list" style="display: none"></ul>
    </div>
    <section class="sessao-usuario">
      <button class="accordion" type="button">Dados do Usuário</button>
      <div class="panel" id="cardUsuario"></div>
    </section>
    <section class="sessao-compromissos">
      <button class="accordion" type="button">Compromissos</button>
      <div class="panel" id="compromissosTabela"></div>
    </section>
    <section class="sessao-lista-espera">
      <button class="accordion" type="button">Lista de Espera SIGSS</button>
      <div class="panel" id="listaEsperaUsuario"></div>
    </section>
    <section class="sessao-regulacao" id="sessao-regulacao">
      <button class="accordion" type="button">Regulações</button>
      <div class="panel" id="regulacaoTabela"></div>
    </section>
    <section class="sessao-agendamentos-exame">
      <button class="accordion" type="button">Agendamentos de Exame</button>
      <div class="panel" id="agendamentosExamePanel">
        <form id="formAgendamentoExame" style="margin-bottom: 10px">
          <input
            type="text"
            id="agendamentoExameBusca"
            placeholder="Nome do paciente, CPF, etc..."
            autocomplete="off"
            style="margin-bottom: 6px"
          />
          <select id="agendamentoExameTipo" style="margin-bottom: 6px">
            <option value="ambos">Todos os tipos</option>
            <option value="isLaboratorial">Laboratorial</option>
            <option value="isNaoLaboratorial">Não Laboratorial</option>
          </select>
          <button type="submit">Buscar</button>
        </form>
        <div id="agendamentosExameTabela"></div>
      </div>
    </section>
    <pre id="resultado" style="display: none"></pre>

    <!--
      Os scripts antigos (api.js, popup.js) foram removidos.
      Agora, apenas um script é carregado como 'módulo', e ele
      será responsável por importar os outros.
    -->
    <script type="module" src="main.js"></script>
  </body>
</html>
